---
layout: post
title: mybatis 셋팅하기 in springboot
comments: true
categories: [Project/Info]
tags: [mybatis-setting]
author: hanseonghye
---

---

<br /><br />

> <subtitle> gradle 추가 </subtitle>

```shell
dependencies {
	...
    implementation "org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.1"
    implementation group: 'org.postgresql', name: 'postgresql', version: '42.1.4'
}
```

<br />

> <subtitle> xml 파일 설정 </subtitle>

```xml
...
spring:
  application:
    name: dockerTestApp
  datasource:
    url: jdbc:postgresql://서버ip:5432/db명
    username: id
    password: 비밀번호
    driver-class-name: org.postgresql.Driver
```

이부분만 추가해주면 db 셋팅 부분은 끝났다!

간단하게 실제 db의 테이블에서 정보를 가져와 보자



> <subtitle> 간단한 예제 </subtitle>

```java
public class Anonymous {
    private String name;

    public String getName() {
        return name;
    }
}
```

- 테이블과 매핑되는 class



```java
import com.test.hello.domain.Anonymous;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Select;

@Mapper
public interface AnonymousMapper {
    @Select("SELECT * FROM anonymous WHERE anonymous_id = #{id}")
    Anonymous find(@Param("id") Integer id);
}
```

- table과 Anonymous class를 mapping해주는 mapper



```java
@RestController
public class AnonymousController {

    @Autowired
    AnonymousMapper anonymousMapper;

    @GetMapping("/user")
    public String getName() {
        return anonymousMapper.find(1).getName();
    }
}
```

- 실행해주는 controller
- 성모님 말씀이 요즘엔 **Autowired**를 안쓰는 추세라고 한다. 다른 방법을 적용해 보자!